{% extends "layout.html" %}
{% block title %}HazÄ±r Proformalar{% endblock %}

{% block body %}
<h2 class="mb-4">HazÄ±r Proforma FaturalarÄ±</h2>
<div class="card mb-4">
  <div class="card-header">Tarih Filtrelemesi</div>
  <div class="card-body">
    <form method="get" class="row g-3 align-items-end">
      <div class="col-md-3">
        <label for="start_date" class="form-label">BaÅŸlangÄ±Ã§ Tarihi</label>
        <input type="date" class="form-control" id="start_date" name="start_date" value="{{ start_date|date:'Y-m-d' }}">
      </div>
      <div class="col-md-3">
        <label for="end_date" class="form-label">BitiÅŸ Tarihi</label>
        <input type="date" class="form-control" id="end_date" name="end_date" value="{{ end_date|date:'Y-m-d' }}">
      </div>
      <div class="col-md-3">
        <button type="submit" class="btn btn-primary w-100">Filtrele</button>
      </div>
      <div class="col-md-3">
        <a href="{% url 'proforma:invoice_list' %}" class="btn btn-secondary w-100">TÃ¼mÃ¼nÃ¼ GÃ¶ster</a>
      </div>
    </form>
  </div>
</div>
<div class="card mb-4">
  <div class="card-header">HazÄ±rlanan Proformalar</div>
  <div class="card-body">
    <table class="table table-bordered">
      <thead class="table-secondary">
          <tr>
              <th>ID</th>
              <th>Firma AdÄ±</th>
              <th>OluÅŸturulma Tarihi</th>
              <th>Ä°ÅŸlem</th>
          </tr>
      </thead>
      <tbody>
          {% for invoice in invoices %}
          <tr>
              <td>{{ invoice.id }}</td>
              <td>{{ invoice.company_name }}</td>
              <td>{{ invoice.created_at|date:"d.m.Y" }}</td>
              <td>
                  <a href="{% url 'proforma:invoice_pdf' invoice.id %}" target="_blank" class="btn btn-sm btn-outline-danger">
                    ðŸ“„PDF GÃ¶rÃ¼ntÃ¼le
                  </a>
              </td>
          </tr>
          {% empty %}
          <tr><td colspan="4" class="text-center">KayÄ±t bulunamadÄ±.</td></tr>
          {% endfor %}
      </tbody>
    </table>
  </div>
</div>
{% endblock %}
